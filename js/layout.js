var Layout=function(){var e=Metronic.getResponsiveBreakpoint("md"),a=function(a,s){var i=location.hash.toLowerCase(),o=$(".page-sidebar-menu");if("click"===a||"set"===a?s=$(s):"match"===a&&o.find("li > a").each((function(){var e=$(this).attr("href").toLowerCase();e.length>1&&i.substr(1,e.length-1)==e.substr(1)&&(s=$(this))})),s&&0!=s.size()&&"javascript:;"!==s.attr("href").toLowerCase()&&"#"!==s.attr("href").toLowerCase()){parseInt(o.data("slide-speed")),o.data("keep-expanded");o.find("li.active").removeClass("active"),o.find("li > a > .selected").remove(),!1===o.hasClass("page-sidebar-menu-hover-submenu")?o.find("li.open").each((function(){0===$(this).children(".sub-menu").size()&&($(this).removeClass("open"),$(this).find("> a > .arrow.open").removeClass("open"))})):o.find("li.open").removeClass("open"),s.parents("li").each((function(){$(this).addClass("active"),$(this).find("> a > span.arrow").addClass("open"),1===$(this).parent("ul.page-sidebar-menu").size()&&$(this).find("> a").append('<span class="selected"></span>'),1===$(this).children("ul.sub-menu").size()&&$(this).addClass("open")})),"click"===a&&Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click()}},s=function(){var a,s=$(".page-sidebar-menu");(Metronic.destroySlimScroll(s),0!==$(".page-sidebar-fixed").size())&&(Metronic.getViewPort().width>=e&&(s.attr("data-height",(a=Metronic.getViewPort().height-$(".page-header").outerHeight()-30,$("body").hasClass("page-footer-fixed")&&(a-=$(".page-footer").outerHeight()),a)),Metronic.initSlimScroll(s)))},i=function(){var e=$("body");e.hasClass("page-sidebar-fixed")&&$(".page-sidebar").on("mouseenter",(function(){e.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").removeClass("page-sidebar-menu-closed")})).on("mouseleave",(function(){e.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").addClass("page-sidebar-menu-closed")}))};return{initHeader:function(){$(".page-header").on("click",".search-form",(function(e){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",(function(e){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")}))})),$(".page-header").on("keypress",".hor-menu .search-form .form-control",(function(e){if(13==e.which)return $(this).closest(".search-form").submit(),!1})),$(".page-header").on("mousedown",".search-form.open .submit",(function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".search-form").submit()}))},setSidebarMenuActiveLink:function(e,s){a(e,s)},initSidebar:function(){var o;s(),$(".page-sidebar").on("click","li > a",(function(a){if(!(Metronic.getViewPort().width>=e&&1===$(this).parents(".page-sidebar-menu-hover-submenu").size()))if(!1!==$(this).next().hasClass("sub-menu")){if(!$(this).next().hasClass("sub-menu always-open")){var s=$(this).parent().parent(),i=$(this),o=$(".page-sidebar-menu"),t=$(this).next(),n=o.data("auto-scroll"),r=parseInt(o.data("slide-speed"));!0!==o.data("keep-expanded")&&(s.children("li.open").children("a").children(".arrow").removeClass("open"),s.children("li.open").children(".sub-menu:not(.always-open)").slideUp(r),s.children("li.open").removeClass("open")),t.is(":visible")?($(".arrow",$(this)).removeClass("open"),$(this).parent().removeClass("open"),t.slideUp(r,(function(){!0===n&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?o.slimScroll({scrollTo:i.position().top}):Metronic.scrollTo(i,-200))}))):($(".arrow",$(this)).addClass("open"),$(this).parent().addClass("open"),t.slideDown(r,(function(){!0===n&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?o.slimScroll({scrollTo:i.position().top}):Metronic.scrollTo(i,-200))}))),a.preventDefault()}}else Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click()})),$(".page-sidebar").on("click"," li > a.ajaxify",(function(a){a.preventDefault(),Metronic.scrollTop();var s=$(this).attr("href"),i=$(".page-sidebar ul"),o=($(".page-content"),$(".page-content .page-content-body"));i.children("li.active").removeClass("active"),i.children("arrow.open").removeClass("open"),$(this).parents("li").each((function(){$(this).addClass("active"),$(this).children("a > span.arrow").addClass("open")})),$(this).parents("li").addClass("active"),Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click(),Metronic.startPageLoading();var t=$(this);$.ajax({type:"GET",cache:!1,url:s,dataType:"html",success:function(e){0===t.parents("li.open").size()&&$(".page-sidebar-menu > li.open > a").click(),Metronic.stopPageLoading(),o.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(e,a,s){Metronic.stopPageLoading(),o.html("<h4>Could not load the requested content.</h4>")}})})),$(".page-content").on("click",".ajaxify",(function(a){a.preventDefault(),Metronic.scrollTop();var s=$(this).attr("href"),i=($(".page-content"),$(".page-content .page-content-body"));Metronic.startPageLoading(),Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click(),$.ajax({type:"GET",cache:!1,url:s,dataType:"html",success:function(e){Metronic.stopPageLoading(),i.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(e,a,s){i.html("<h4>Could not load the requested content.</h4>"),Metronic.stopPageLoading()}})})),$(document).on("click",".page-header-fixed-mobile .responsive-toggler",(function(){Metronic.scrollTop()})),o=$("body"),$.cookie&&"1"===$.cookie("sidebar_closed")&&Metronic.getViewPort().width>=e&&($("body").addClass("page-sidebar-closed"),$(".page-sidebar-menu").addClass("page-sidebar-menu-closed")),$("body").on("click",".sidebar-toggler",(function(e){var a=$(".page-sidebar"),s=$(".page-sidebar-menu");$(".sidebar-search",a).removeClass("open"),o.hasClass("page-sidebar-closed")?(o.removeClass("page-sidebar-closed"),s.removeClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","0")):(o.addClass("page-sidebar-closed"),s.addClass("page-sidebar-menu-closed"),o.hasClass("page-sidebar-fixed")&&s.trigger("mouseleave"),$.cookie&&$.cookie("sidebar_closed","1")),$(window).trigger("resize")})),i(),$(".page-sidebar").on("click",".sidebar-search .remove",(function(e){e.preventDefault(),$(".sidebar-search").removeClass("open")})),$(".page-sidebar .sidebar-search").on("keypress","input.form-control",(function(e){if(13==e.which)return $(".sidebar-search").submit(),!1})),$(".sidebar-search .submit").on("click",(function(e){e.preventDefault(),$("body").hasClass("page-sidebar-closed")&&!1===$(".sidebar-search").hasClass("open")?(1===$(".page-sidebar-fixed").size()&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit()})),0!==$(".sidebar-search").size()&&($(".sidebar-search .input-group").on("click",(function(e){e.stopPropagation()})),$("body").on("click",(function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))),Metronic.isAngularJsApp()&&a("match"),Metronic.addResizeHandler(s)},initContent:function(){},initFooter:function(){var e;e=500,navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",(function(a){$(this).scrollTop()>300?$(".scroll-to-top").fadeIn(e):$(".scroll-to-top").fadeOut(e)})):$(window).scroll((function(){$(this).scrollTop()>300?$(".scroll-to-top").fadeIn(e):$(".scroll-to-top").fadeOut(e)})),$(".scroll-to-top").click((function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},e),!1}))},init:function(){this.initHeader(),this.initSidebar(),this.initContent(),this.initFooter()},fixContentHeight:function(){},initFixedSidebarHoverEffect:function(){i()},initFixedSidebar:function(){s()},getLayoutImgPath:function(){return Metronic.getAssetsPath()+"admin/layout4/img/"},getLayoutCssPath:function(){return Metronic.getAssetsPath()+"admin/layout4/css/"}}}();